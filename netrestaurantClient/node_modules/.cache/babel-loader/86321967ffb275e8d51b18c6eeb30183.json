{"ast":null,"code":"var _jsxFileName = \"/Users/seob717/ts-study/netand/NETRestaurant/netrestaurantClient/src/components/map/CoffeeMap.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport react, { useState, useCallback, useRef, useEffect, createElement } from \"react\";\nimport KakaoMapScript from \"../../util/kakaoMapScript\";\nimport NET_LOCATION from \"../../util/location\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  kakao\n} = window;\n\nconst PlaceInfo = place => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"placeinfo_wrap\",\n    onMouseDown: kakao.maps.event.preventMap,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"placeinfo\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"title\",\n        href: \"#!\" //   href={place.place_url}\n        ,\n        target: \"_blank\",\n        title: place.place_name,\n        children: place.place_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }, this), place.road_address_name && /*#__PURE__*/_jsxDEV(\"span\", {\n        title: `${place.road_address_name}`,\n        children: place.road_address_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"jibun\",\n        title: `${place.address_name}`,\n        children: [\"\\uC9C0\\uBC88 : \", place.address_name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"tel\",\n        children: place.phone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"after\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 5\n  }, this);\n};\n\n_c = PlaceInfo;\n\nconst CoffeeMap = () => {\n  _s();\n\n  const mapRef = useRef(null);\n  const [markers, setMarkers] = useState([]); // 마커를 담을 배열\n\n  const [map, setMap] = useState(null);\n  const [ps, setPs] = useState(null);\n  const contentNode = /*#__PURE__*/createElement(\"div\", {\n    className: \"placeinfo_wrap\",\n    onMouseDown: kakao.maps.event.preventMap,\n    onTouchStart: kakao.maps.event.preventMap\n  });\n  const placeOverlay = new KakaoMapScript.maps.CustomOverlay({\n    zIndex: 1\n  }).setContent(contentNode);\n  const currCategory = \"CE7\"; // 카페 카테고리 코드\n  // 마커 초기화 함수\n\n  function removeMarker() {\n    setMarkers([]);\n  }\n\n  const displayPlaceInfo = useCallback(place => {\n    placeOverlay.setPosition(new kakao.maps.LatLng(place.y, place.x));\n    placeOverlay.setMap(map);\n  }, [map, placeOverlay]); // 마커를 생성하고 지도 위에 마커를 표시하는 함수입니다\n\n  const addMarker = useCallback((position, order) => {\n    const imageSrc = \"https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/places_category.png\"; // 마커 이미지 url, 스프라이트 이미지를 씁니다\n\n    const imageSize = new kakao.maps.Size(27, 28); // 마커 이미지의 크기\n\n    const imgOptions = {\n      spriteSize: new kakao.maps.Size(72, 208),\n      // 스프라이트 이미지의 크기\n      spriteOrigin: new kakao.maps.Point(46, order * 36),\n      // 스프라이트 이미지 중 사용할 영역의 좌상단 좌표\n      offset: new kakao.maps.Point(11, 28) // 마커 좌표에 일치시킬 이미지 내에서의 좌표\n\n    };\n    const markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imgOptions);\n    const marker = new kakao.maps.Marker({\n      position: position,\n      // 마커의 위치\n      image: markerImage\n    });\n    marker.setMap(map); // 지도 위에 마커를 표출합니다\n\n    setMarkers(marker); // 배열에 생성된 마커를 추가합니다\n\n    return marker;\n  }, [map]); // 지도에 마커를 표출하는 함수입니다\n\n  const displayPlaces = useCallback(places => {\n    // 몇번째 카테고리가 선택되어 있는지 얻어옵니다\n    // 이 순서는 스프라이트 이미지에서의 위치를 계산하는데 사용됩니다\n    var order = document.getElementById(currCategory).getAttribute(\"data-order\");\n\n    for (var i = 0; i < places.length; i++) {\n      // 마커를 생성하고 지도에 표시합니다\n      var marker = addMarker(new kakao.maps.LatLng(places[i].y, places[i].x), order); // 마커와 검색결과 항목을 클릭 했을 때\n      // 장소정보를 표출하도록 클릭 이벤트를 등록합니다\n\n      (function (marker, place) {\n        kakao.maps.event.addListener(marker, \"click\", function () {\n          displayPlaceInfo(place);\n        });\n      })(marker, places[i]);\n    }\n  }, [addMarker, displayPlaceInfo]); // 장소검색이 완료됐을 때 호출되는 콜백함수 입니다\n\n  const placesSearchCB = useCallback((data, status, pagination) => {\n    if (status === kakao.maps.services.Status.OK) {\n      // 정상적으로 검색이 완료됐으면 지도에 마커를 표출합니다\n      displayPlaces(data);\n    } else if (status === kakao.maps.services.Status.ZERO_RESULT) {// 검색결과가 없는경우 해야할 처리가 있다면 이곳에 작성해 주세요\n    } else if (status === kakao.maps.services.Status.ERROR) {// 에러로 인해 검색결과가 나오지 않은 경우 해야할 처리가 있다면 이곳에 작성해 주세요\n    }\n  }, [displayPlaces]); // 카테고리 검색을 요청하는 함수입니다\n\n  const searchPlaces = useCallback(() => {\n    // 커스텀 오버레이를 숨깁니다\n    placeOverlay.setMap(null); // 지도에 표시되고 있는 마커를 제거합니다\n\n    removeMarker();\n    ps.categorySearch(currCategory, placesSearchCB, {\n      useMapBounds: true\n    });\n  }, [placeOverlay, placesSearchCB, ps]); // 카카오 맵 생성\n\n  useEffect(() => {\n    const container = mapRef.current;\n    const options = {\n      center: new KakaoMapScript.maps.LatLng(NET_LOCATION.let, NET_LOCATION.lon),\n      level: 3\n    };\n    const map = new KakaoMapScript.maps.Map(container, options);\n    setMap(map);\n    const ps = new kakao.maps.services.Place(map);\n    setPs(ps);\n    kakao.maps.event.addListener(map, \"idle\", searchPlaces);\n  }, [searchPlaces]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: mapRef,\n    children: \"Map\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 10\n  }, this);\n};\n\n_s(CoffeeMap, \"KDmg5uY1bO3SMWNi6UbamkwEmIM=\");\n\n_c2 = CoffeeMap;\nexport default CoffeeMap;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"PlaceInfo\");\n$RefreshReg$(_c2, \"CoffeeMap\");","map":{"version":3,"sources":["/Users/seob717/ts-study/netand/NETRestaurant/netrestaurantClient/src/components/map/CoffeeMap.js"],"names":["React","react","useState","useCallback","useRef","useEffect","createElement","KakaoMapScript","NET_LOCATION","kakao","window","PlaceInfo","place","maps","event","preventMap","place_name","road_address_name","address_name","phone","CoffeeMap","mapRef","markers","setMarkers","map","setMap","ps","setPs","contentNode","className","onMouseDown","onTouchStart","placeOverlay","CustomOverlay","zIndex","setContent","currCategory","removeMarker","displayPlaceInfo","setPosition","LatLng","y","x","addMarker","position","order","imageSrc","imageSize","Size","imgOptions","spriteSize","spriteOrigin","Point","offset","markerImage","MarkerImage","marker","Marker","image","displayPlaces","places","document","getElementById","getAttribute","i","length","addListener","placesSearchCB","data","status","pagination","services","Status","OK","ZERO_RESULT","ERROR","searchPlaces","categorySearch","useMapBounds","container","current","options","center","let","lon","level","Map","Place"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IACEC,QADF,EAEEC,WAFF,EAGEC,MAHF,EAIEC,SAJF,EAKEC,aALF,QAMO,OANP;AAOA,OAAOC,cAAP,MAA2B,2BAA3B;AACA,OAAOC,YAAP,MAAyB,qBAAzB;;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAYC,MAAlB;;AAEA,MAAMC,SAAS,GAAIC,KAAD,IAAW;AAC3B,sBACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAgC,IAAA,WAAW,EAAEH,KAAK,CAACI,IAAN,CAAWC,KAAX,CAAiBC,UAA9D;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,8BACE;AACE,QAAA,SAAS,EAAC,OADZ;AAEE,QAAA,IAAI,EAAC,IAFP,CAGE;AAHF;AAIE,QAAA,MAAM,EAAE,QAJV;AAKE,QAAA,KAAK,EAAEH,KAAK,CAACI,UALf;AAAA,kBAOGJ,KAAK,CAACI;AAPT;AAAA;AAAA;AAAA;AAAA,cADF,EAUGJ,KAAK,CAACK,iBAAN,iBACC;AAAM,QAAA,KAAK,EAAG,GAAEL,KAAK,CAACK,iBAAkB,EAAxC;AAAA,kBACGL,KAAK,CAACK;AADT;AAAA;AAAA;AAAA;AAAA,cAXJ,eAeE;AAAM,QAAA,SAAS,EAAC,OAAhB;AAAwB,QAAA,KAAK,EAAG,GAAEL,KAAK,CAACM,YAAa,EAArD;AAAA,sCACQN,KAAK,CAACM,YADd;AAAA;AAAA;AAAA;AAAA;AAAA,cAfF,eAkBE;AAAM,QAAA,SAAS,EAAC,KAAhB;AAAA,kBAAuBN,KAAK,CAACO;AAA7B;AAAA;AAAA;AAAA;AAAA,cAlBF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAqBE;AAAK,MAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,YArBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAyBD,CA1BD;;KAAMR,S;;AA4BN,MAAMS,SAAS,GAAG,MAAM;AAAA;;AACtB,QAAMC,MAAM,GAAGjB,MAAM,CAAC,IAAD,CAArB;AACA,QAAM,CAACkB,OAAD,EAAUC,UAAV,IAAwBrB,QAAQ,CAAC,EAAD,CAAtC,CAFsB,CAEsB;;AAC5C,QAAM,CAACsB,GAAD,EAAMC,MAAN,IAAgBvB,QAAQ,CAAC,IAAD,CAA9B;AACA,QAAM,CAACwB,EAAD,EAAKC,KAAL,IAAczB,QAAQ,CAAC,IAAD,CAA5B;AACA,QAAM0B,WAAW,gBAAGtB,aAAa,CAAC,KAAD,EAAQ;AACvCuB,IAAAA,SAAS,EAAE,gBAD4B;AAEvCC,IAAAA,WAAW,EAAErB,KAAK,CAACI,IAAN,CAAWC,KAAX,CAAiBC,UAFS;AAGvCgB,IAAAA,YAAY,EAAEtB,KAAK,CAACI,IAAN,CAAWC,KAAX,CAAiBC;AAHQ,GAAR,CAAjC;AAKA,QAAMiB,YAAY,GAAG,IAAIzB,cAAc,CAACM,IAAf,CAAoBoB,aAAxB,CAAsC;AACzDC,IAAAA,MAAM,EAAE;AADiD,GAAtC,EAElBC,UAFkB,CAEPP,WAFO,CAArB;AAGA,QAAMQ,YAAY,GAAG,KAArB,CAbsB,CAaM;AAE5B;;AACA,WAASC,YAAT,GAAwB;AACtBd,IAAAA,UAAU,CAAC,EAAD,CAAV;AACD;;AACD,QAAMe,gBAAgB,GAAGnC,WAAW,CACjCS,KAAD,IAAW;AACToB,IAAAA,YAAY,CAACO,WAAb,CAAyB,IAAI9B,KAAK,CAACI,IAAN,CAAW2B,MAAf,CAAsB5B,KAAK,CAAC6B,CAA5B,EAA+B7B,KAAK,CAAC8B,CAArC,CAAzB;AACAV,IAAAA,YAAY,CAACP,MAAb,CAAoBD,GAApB;AACD,GAJiC,EAKlC,CAACA,GAAD,EAAMQ,YAAN,CALkC,CAApC,CAnBsB,CA2BtB;;AACA,QAAMW,SAAS,GAAGxC,WAAW,CAC3B,CAACyC,QAAD,EAAWC,KAAX,KAAqB;AACnB,UAAMC,QAAQ,GACZ,8EADF,CADmB,CAE+D;;AAClF,UAAMC,SAAS,GAAG,IAAItC,KAAK,CAACI,IAAN,CAAWmC,IAAf,CAAoB,EAApB,EAAwB,EAAxB,CAAlB,CAHmB,CAG4B;;AAC/C,UAAMC,UAAU,GAAG;AACjBC,MAAAA,UAAU,EAAE,IAAIzC,KAAK,CAACI,IAAN,CAAWmC,IAAf,CAAoB,EAApB,EAAwB,GAAxB,CADK;AACyB;AAC1CG,MAAAA,YAAY,EAAE,IAAI1C,KAAK,CAACI,IAAN,CAAWuC,KAAf,CAAqB,EAArB,EAAyBP,KAAK,GAAG,EAAjC,CAFG;AAEmC;AACpDQ,MAAAA,MAAM,EAAE,IAAI5C,KAAK,CAACI,IAAN,CAAWuC,KAAf,CAAqB,EAArB,EAAyB,EAAzB,CAHS,CAGqB;;AAHrB,KAAnB;AAKA,UAAME,WAAW,GAAG,IAAI7C,KAAK,CAACI,IAAN,CAAW0C,WAAf,CAClBT,QADkB,EAElBC,SAFkB,EAGlBE,UAHkB,CAApB;AAKA,UAAMO,MAAM,GAAG,IAAI/C,KAAK,CAACI,IAAN,CAAW4C,MAAf,CAAsB;AACnCb,MAAAA,QAAQ,EAAEA,QADyB;AACf;AACpBc,MAAAA,KAAK,EAAEJ;AAF4B,KAAtB,CAAf;AAKAE,IAAAA,MAAM,CAAC/B,MAAP,CAAcD,GAAd,EAnBmB,CAmBC;;AACpBD,IAAAA,UAAU,CAACiC,MAAD,CAAV,CApBmB,CAoBC;;AAEpB,WAAOA,MAAP;AACD,GAxB0B,EAyB3B,CAAChC,GAAD,CAzB2B,CAA7B,CA5BsB,CAwDtB;;AACA,QAAMmC,aAAa,GAAGxD,WAAW,CAC9ByD,MAAD,IAAY;AACV;AACA;AACA,QAAIf,KAAK,GAAGgB,QAAQ,CACjBC,cADS,CACM1B,YADN,EAET2B,YAFS,CAEI,YAFJ,CAAZ;;AAIA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,MAAM,CAACK,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACtC;AACA,UAAIR,MAAM,GAAGb,SAAS,CACpB,IAAIlC,KAAK,CAACI,IAAN,CAAW2B,MAAf,CAAsBoB,MAAM,CAACI,CAAD,CAAN,CAAUvB,CAAhC,EAAmCmB,MAAM,CAACI,CAAD,CAAN,CAAUtB,CAA7C,CADoB,EAEpBG,KAFoB,CAAtB,CAFsC,CAOtC;AACA;;AACA,OAAC,UAAUW,MAAV,EAAkB5C,KAAlB,EAAyB;AACxBH,QAAAA,KAAK,CAACI,IAAN,CAAWC,KAAX,CAAiBoD,WAAjB,CAA6BV,MAA7B,EAAqC,OAArC,EAA8C,YAAY;AACxDlB,UAAAA,gBAAgB,CAAC1B,KAAD,CAAhB;AACD,SAFD;AAGD,OAJD,EAIG4C,MAJH,EAIWI,MAAM,CAACI,CAAD,CAJjB;AAKD;AACF,GAvB8B,EAwB/B,CAACrB,SAAD,EAAYL,gBAAZ,CAxB+B,CAAjC,CAzDsB,CAoFtB;;AACA,QAAM6B,cAAc,GAAGhE,WAAW,CAChC,CAACiE,IAAD,EAAOC,MAAP,EAAeC,UAAf,KAA8B;AAC5B,QAAID,MAAM,KAAK5D,KAAK,CAACI,IAAN,CAAW0D,QAAX,CAAoBC,MAApB,CAA2BC,EAA1C,EAA8C;AAC5C;AACAd,MAAAA,aAAa,CAACS,IAAD,CAAb;AACD,KAHD,MAGO,IAAIC,MAAM,KAAK5D,KAAK,CAACI,IAAN,CAAW0D,QAAX,CAAoBC,MAApB,CAA2BE,WAA1C,EAAuD,CAC5D;AACD,KAFM,MAEA,IAAIL,MAAM,KAAK5D,KAAK,CAACI,IAAN,CAAW0D,QAAX,CAAoBC,MAApB,CAA2BG,KAA1C,EAAiD,CACtD;AACD;AACF,GAV+B,EAWhC,CAAChB,aAAD,CAXgC,CAAlC,CArFsB,CAmGtB;;AACA,QAAMiB,YAAY,GAAGzE,WAAW,CAAC,MAAM;AACrC;AACA6B,IAAAA,YAAY,CAACP,MAAb,CAAoB,IAApB,EAFqC,CAIrC;;AACAY,IAAAA,YAAY;AAEZX,IAAAA,EAAE,CAACmD,cAAH,CAAkBzC,YAAlB,EAAgC+B,cAAhC,EAAgD;AAAEW,MAAAA,YAAY,EAAE;AAAhB,KAAhD;AACD,GAR+B,EAQ7B,CAAC9C,YAAD,EAAemC,cAAf,EAA+BzC,EAA/B,CAR6B,CAAhC,CApGsB,CA8GtB;;AACArB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM0E,SAAS,GAAG1D,MAAM,CAAC2D,OAAzB;AACA,UAAMC,OAAO,GAAG;AACdC,MAAAA,MAAM,EAAE,IAAI3E,cAAc,CAACM,IAAf,CAAoB2B,MAAxB,CACNhC,YAAY,CAAC2E,GADP,EAEN3E,YAAY,CAAC4E,GAFP,CADM;AAKdC,MAAAA,KAAK,EAAE;AALO,KAAhB;AAOA,UAAM7D,GAAG,GAAG,IAAIjB,cAAc,CAACM,IAAf,CAAoByE,GAAxB,CAA4BP,SAA5B,EAAuCE,OAAvC,CAAZ;AACAxD,IAAAA,MAAM,CAACD,GAAD,CAAN;AACA,UAAME,EAAE,GAAG,IAAIjB,KAAK,CAACI,IAAN,CAAW0D,QAAX,CAAoBgB,KAAxB,CAA8B/D,GAA9B,CAAX;AACAG,IAAAA,KAAK,CAACD,EAAD,CAAL;AACAjB,IAAAA,KAAK,CAACI,IAAN,CAAWC,KAAX,CAAiBoD,WAAjB,CAA6B1C,GAA7B,EAAkC,MAAlC,EAA0CoD,YAA1C;AACD,GAdQ,EAcN,CAACA,YAAD,CAdM,CAAT;AAgBA,sBAAO;AAAK,IAAA,GAAG,EAAEvD,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CAhID;;GAAMD,S;;MAAAA,S;AAkIN,eAAeA,SAAf","sourcesContent":["import React from \"react\";\nimport react, {\n  useState,\n  useCallback,\n  useRef,\n  useEffect,\n  createElement,\n} from \"react\";\nimport KakaoMapScript from \"../../util/kakaoMapScript\";\nimport NET_LOCATION from \"../../util/location\";\n\nconst { kakao } = window;\n\nconst PlaceInfo = (place) => {\n  return (\n    <div className=\"placeinfo_wrap\" onMouseDown={kakao.maps.event.preventMap}>\n      <div className=\"placeinfo\">\n        <a\n          className=\"title\"\n          href=\"#!\"\n          //   href={place.place_url}\n          target={\"_blank\"}\n          title={place.place_name}\n        >\n          {place.place_name}\n        </a>\n        {place.road_address_name && (\n          <span title={`${place.road_address_name}`}>\n            {place.road_address_name}\n          </span>\n        )}\n        <span className=\"jibun\" title={`${place.address_name}`}>\n          지번 : {place.address_name}\n        </span>\n        <span className=\"tel\">{place.phone}</span>\n      </div>\n      <div className=\"after\"></div>\n    </div>\n  );\n};\n\nconst CoffeeMap = () => {\n  const mapRef = useRef(null);\n  const [markers, setMarkers] = useState([]); // 마커를 담을 배열\n  const [map, setMap] = useState(null);\n  const [ps, setPs] = useState(null);\n  const contentNode = createElement(\"div\", {\n    className: \"placeinfo_wrap\",\n    onMouseDown: kakao.maps.event.preventMap,\n    onTouchStart: kakao.maps.event.preventMap,\n  });\n  const placeOverlay = new KakaoMapScript.maps.CustomOverlay({\n    zIndex: 1,\n  }).setContent(contentNode);\n  const currCategory = \"CE7\"; // 카페 카테고리 코드\n\n  // 마커 초기화 함수\n  function removeMarker() {\n    setMarkers([]);\n  }\n  const displayPlaceInfo = useCallback(\n    (place) => {\n      placeOverlay.setPosition(new kakao.maps.LatLng(place.y, place.x));\n      placeOverlay.setMap(map);\n    },\n    [map, placeOverlay],\n  );\n\n  // 마커를 생성하고 지도 위에 마커를 표시하는 함수입니다\n  const addMarker = useCallback(\n    (position, order) => {\n      const imageSrc =\n        \"https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/places_category.png\"; // 마커 이미지 url, 스프라이트 이미지를 씁니다\n      const imageSize = new kakao.maps.Size(27, 28); // 마커 이미지의 크기\n      const imgOptions = {\n        spriteSize: new kakao.maps.Size(72, 208), // 스프라이트 이미지의 크기\n        spriteOrigin: new kakao.maps.Point(46, order * 36), // 스프라이트 이미지 중 사용할 영역의 좌상단 좌표\n        offset: new kakao.maps.Point(11, 28), // 마커 좌표에 일치시킬 이미지 내에서의 좌표\n      };\n      const markerImage = new kakao.maps.MarkerImage(\n        imageSrc,\n        imageSize,\n        imgOptions,\n      );\n      const marker = new kakao.maps.Marker({\n        position: position, // 마커의 위치\n        image: markerImage,\n      });\n\n      marker.setMap(map); // 지도 위에 마커를 표출합니다\n      setMarkers(marker); // 배열에 생성된 마커를 추가합니다\n\n      return marker;\n    },\n    [map],\n  );\n\n  // 지도에 마커를 표출하는 함수입니다\n  const displayPlaces = useCallback(\n    (places) => {\n      // 몇번째 카테고리가 선택되어 있는지 얻어옵니다\n      // 이 순서는 스프라이트 이미지에서의 위치를 계산하는데 사용됩니다\n      var order = document\n        .getElementById(currCategory)\n        .getAttribute(\"data-order\");\n\n      for (var i = 0; i < places.length; i++) {\n        // 마커를 생성하고 지도에 표시합니다\n        var marker = addMarker(\n          new kakao.maps.LatLng(places[i].y, places[i].x),\n          order,\n        );\n\n        // 마커와 검색결과 항목을 클릭 했을 때\n        // 장소정보를 표출하도록 클릭 이벤트를 등록합니다\n        (function (marker, place) {\n          kakao.maps.event.addListener(marker, \"click\", function () {\n            displayPlaceInfo(place);\n          });\n        })(marker, places[i]);\n      }\n    },\n    [addMarker, displayPlaceInfo],\n  );\n\n  // 장소검색이 완료됐을 때 호출되는 콜백함수 입니다\n  const placesSearchCB = useCallback(\n    (data, status, pagination) => {\n      if (status === kakao.maps.services.Status.OK) {\n        // 정상적으로 검색이 완료됐으면 지도에 마커를 표출합니다\n        displayPlaces(data);\n      } else if (status === kakao.maps.services.Status.ZERO_RESULT) {\n        // 검색결과가 없는경우 해야할 처리가 있다면 이곳에 작성해 주세요\n      } else if (status === kakao.maps.services.Status.ERROR) {\n        // 에러로 인해 검색결과가 나오지 않은 경우 해야할 처리가 있다면 이곳에 작성해 주세요\n      }\n    },\n    [displayPlaces],\n  );\n\n  // 카테고리 검색을 요청하는 함수입니다\n  const searchPlaces = useCallback(() => {\n    // 커스텀 오버레이를 숨깁니다\n    placeOverlay.setMap(null);\n\n    // 지도에 표시되고 있는 마커를 제거합니다\n    removeMarker();\n\n    ps.categorySearch(currCategory, placesSearchCB, { useMapBounds: true });\n  }, [placeOverlay, placesSearchCB, ps]);\n\n  // 카카오 맵 생성\n  useEffect(() => {\n    const container = mapRef.current;\n    const options = {\n      center: new KakaoMapScript.maps.LatLng(\n        NET_LOCATION.let,\n        NET_LOCATION.lon,\n      ),\n      level: 3,\n    };\n    const map = new KakaoMapScript.maps.Map(container, options);\n    setMap(map);\n    const ps = new kakao.maps.services.Place(map);\n    setPs(ps);\n    kakao.maps.event.addListener(map, \"idle\", searchPlaces);\n  }, [searchPlaces]);\n\n  return <div ref={mapRef}>Map</div>;\n};\n\nexport default CoffeeMap;\n"]},"metadata":{},"sourceType":"module"}