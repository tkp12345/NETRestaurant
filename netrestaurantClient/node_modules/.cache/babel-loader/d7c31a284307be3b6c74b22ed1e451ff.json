{"ast":null,"code":"// import { CurrentLocation, KAKO_DOCUMENT_ID, NET_LOCATION } from \"./location\";\nimport { KAKO_DOCUMENT_ID, NET_LOCATION } from \"./location\";\nconst {\n  kakao\n} = window; // https://apis.map.kakao.com/web/sample/keywordBasic/\n\nexport default function kakaoMapApi() {\n  let currCategory = ''; // ë§ˆì»¤ë¥¼ í´ë¦­í•˜ë©´ ì¥ì†Œëª…ì„ í‘œì¶œí•  ì¸í¬ìœˆë„ìš° ì…ë‹ˆë‹¤\n\n  const placeOverlay = new kakao.maps.CustomOverlay({\n    zIndex: 1\n  }),\n        contentNode = document.createElement('div'),\n        // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ì˜ ì»¨í…ì¸  ì—˜ë¦¬ë¨¼íŠ¸ ì…ë‹ˆë‹¤ \n  markers = []; // ë§ˆì»¤ë¥¼ ë‹´ì„ ë°°ì—´ì…ë‹ˆë‹¤\n  // currCategory = ''; \n  // í˜„ì¬ ì„ íƒëœ ì¹´í…Œê³ ë¦¬ë¥¼ ê°€ì§€ê³  ìˆì„ ë³€ìˆ˜ì…ë‹ˆë‹¤;\n\n  const mapContainer = document.getElementById(KAKO_DOCUMENT_ID);\n  console.log('mapContainer', mapContainer);\n  const mapOption = {\n    center: new kakao.maps.LatLng(NET_LOCATION.let, NET_LOCATION.lon),\n    level: 4\n  };\n  const map = new kakao.maps.Map(mapContainer, mapOption);\n  console.log('kakao', kakao); // ì¥ì†Œ ê²€ìƒ‰ ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤\n\n  const ps = new kakao.maps.services.Places(map);\n  console.log('ps', ps); // ì§€ë„ì— idle ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤\n  //searchPlaces : ì½œë°±í•¨ìˆ˜ \n\n  kakao.maps.event.addListener(map, 'idle', searchPlaces);\n  console.log('contentNode:', contentNode); // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ì˜ ì»¨í…ì¸  ë…¸ë“œì— css classë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤ \n\n  contentNode.className = 'placeinfo_wrap'; // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ì˜ ì»¨í…ì¸  ë…¸ë“œì— mousedown, touchstart ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ë•Œ\n  // ì§€ë„ ê°ì²´ì— ì´ë²¤íŠ¸ê°€ ì „ë‹¬ë˜ì§€ ì•Šë„ë¡ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¡œ kakao.maps.event.preventMap ë©”ì†Œë“œë¥¼ ë“±ë¡í•©ë‹ˆë‹¤ \n\n  addEventHandle(contentNode, 'mousedown', kakao.maps.event.preventMap);\n  addEventHandle(contentNode, 'touchstart', kakao.maps.event.preventMap); // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ ì»¨í…ì¸ ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤\n\n  placeOverlay.setContent(contentNode); // ê° ì¹´í…Œê³ ë¦¬ì— í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤\n\n  addCategoryClickEvent(); // ì—˜ë¦¬ë¨¼íŠ¸ì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤\n\n  function addEventHandle(target, type, callback) {\n    if (target.addEventListener) {\n      target.addEventListener(type, callback);\n    } else {\n      target.attachEvent('on' + type, callback);\n    }\n  } // ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ì„ ìš”ì²­í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤\n\n\n  function searchPlaces() {\n    console.log('ğŸš©searchPlaces ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ì„ ìš”ì²­í•˜ëŠ” í•¨ìˆ˜:');\n    console.log('currCategory:', currCategory);\n\n    if (!currCategory) {\n      console.log('ì„¤ë§ˆ ì—¬ê¸°ì…ë‹ˆê¹Œ ?');\n      return;\n    } // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¥¼ ìˆ¨ê¹ë‹ˆë‹¤ \n\n\n    placeOverlay.setMap(null);\n    console.log('  // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¥¼ ìˆ¨ê¹ë‹ˆë‹¤-placeOverlay :', placeOverlay); // ì§€ë„ì— í‘œì‹œë˜ê³  ìˆëŠ” ë§ˆì»¤ë¥¼ ì œê±°í•©ë‹ˆë‹¤\n\n    removeMarker();\n    contentNode.log('ê²€ìƒ‰ëœê°’:', currCategory);\n    ps.categorySearch(currCategory, placesSearchCB, {\n      useMapBounds: true\n    });\n  } // ì¥ì†Œê²€ìƒ‰ì´ ì™„ë£Œëì„ ë•Œ í˜¸ì¶œë˜ëŠ” ì½œë°±í•¨ìˆ˜ ì…ë‹ˆë‹¤\n\n\n  function placesSearchCB(data, status, pagination) {\n    console.log('ğŸ‘¦ì¥ì†Œ ê²€ìƒ‰ ì™„ë£Œ');\n\n    if (status === kakao.maps.services.Status.OK) {\n      // ì •ìƒì ìœ¼ë¡œ ê²€ìƒ‰ì´ ì™„ë£Œëìœ¼ë©´ ì§€ë„ì— ë§ˆì»¤ë¥¼ í‘œì¶œí•©ë‹ˆë‹¤\n      displayPlaces(data);\n    } else if (status === kakao.maps.services.Status.ZERO_RESULT) {// ê²€ìƒ‰ê²°ê³¼ê°€ ì—†ëŠ”ê²½ìš° í•´ì•¼í•  ì²˜ë¦¬ê°€ ìˆë‹¤ë©´ ì´ê³³ì— ì‘ì„±í•´ ì£¼ì„¸ìš”\n    } else if (status === kakao.maps.services.Status.ERROR) {// ì—ëŸ¬ë¡œ ì¸í•´ ê²€ìƒ‰ê²°ê³¼ê°€ ë‚˜ì˜¤ì§€ ì•Šì€ ê²½ìš° í•´ì•¼í•  ì²˜ë¦¬ê°€ ìˆë‹¤ë©´ ì´ê³³ì— ì‘ì„±í•´ ì£¼ì„¸ìš”\n    }\n  } // ì§€ë„ì— ë§ˆì»¤ë¥¼ í‘œì¶œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤\n\n\n  function displayPlaces(places) {\n    console.log('ğŸš©addMarker:', addMarker); // ëª‡ë²ˆì§¸ ì¹´í…Œê³ ë¦¬ê°€ ì„ íƒë˜ì–´ ìˆëŠ”ì§€ ì–»ì–´ì˜µë‹ˆë‹¤\n    // ì´ ìˆœì„œëŠ” ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ì—ì„œì˜ ìœ„ì¹˜ë¥¼ ê³„ì‚°í•˜ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤\n\n    var order = document.getElementById(currCategory).getAttribute('data-order');\n\n    for (var i = 0; i < places.length; i++) {\n      // ë§ˆì»¤ë¥¼ ìƒì„±í•˜ê³  ì§€ë„ì— í‘œì‹œí•©ë‹ˆë‹¤\n      var marker = addMarker(new kakao.maps.LatLng(places[i].y, places[i].x), order); // ë§ˆì»¤ì™€ ê²€ìƒ‰ê²°ê³¼ í•­ëª©ì„ í´ë¦­ í–ˆì„ ë•Œ\n      // ì¥ì†Œì •ë³´ë¥¼ í‘œì¶œí•˜ë„ë¡ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤\n\n      (function (marker, place) {\n        console.log('ë§ˆì»¤í´ë¦­');\n        kakao.maps.event.addListener(marker, 'click', function () {\n          displayPlaceInfo(place);\n        });\n      })(marker, places[i]);\n    }\n  } // ë§ˆì»¤ë¥¼ ìƒì„±í•˜ê³  ì§€ë„ ìœ„ì— ë§ˆì»¤ë¥¼ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤\n\n\n  function addMarker(position, order) {\n    console.log('ğŸš©addMarker:', addMarker);\n    var imageSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/places_category.png',\n        // ë§ˆì»¤ ì´ë¯¸ì§€ url, ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ë¥¼ ì”ë‹ˆë‹¤\n    imageSize = new kakao.maps.Size(27, 28),\n        // ë§ˆì»¤ ì´ë¯¸ì§€ì˜ í¬ê¸°\n    imgOptions = {\n      spriteSize: new kakao.maps.Size(72, 208),\n      // ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ì˜ í¬ê¸°\n      spriteOrigin: new kakao.maps.Point(46, order * 36),\n      // ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ ì¤‘ ì‚¬ìš©í•  ì˜ì—­ì˜ ì¢Œìƒë‹¨ ì¢Œí‘œ\n      offset: new kakao.maps.Point(11, 28) // ë§ˆì»¤ ì¢Œí‘œì— ì¼ì¹˜ì‹œí‚¬ ì´ë¯¸ì§€ ë‚´ì—ì„œì˜ ì¢Œí‘œ\n\n    },\n        markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imgOptions),\n        marker = new kakao.maps.Marker({\n      position: position,\n      // ë§ˆì»¤ì˜ ìœ„ì¹˜\n      image: markerImage\n    });\n    marker.setMap(map); // ì§€ë„ ìœ„ì— ë§ˆì»¤ë¥¼ í‘œì¶œí•©ë‹ˆë‹¤\n\n    markers.push(marker); // ë°°ì—´ì— ìƒì„±ëœ ë§ˆì»¤ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤\n\n    console.log('ğŸ‘´markers:', markers);\n    return marker;\n  } // ì§€ë„ ìœ„ì— í‘œì‹œë˜ê³  ìˆëŠ” ë§ˆì»¤ë¥¼ ëª¨ë‘ ì œê±°í•©ë‹ˆë‹¤\n\n\n  function removeMarker() {\n    for (var i = 0; i < markers.length; i++) {\n      markers[i].setMap(null);\n    }\n\n    markers = [];\n  } // í´ë¦­í•œ ë§ˆì»¤ì— ëŒ€í•œ ì¥ì†Œ ìƒì„¸ì •ë³´ë¥¼ ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¡œ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤\n\n\n  function displayPlaceInfo(place) {\n    console.log('í´ë¦­í•œ ì¥ì†Œì •ë³´ í˜¸ì¶œ');\n    console.log('place:', place);\n    var content = '<div class=\"placeinfo\">' + '   <a class=\"title\" href=\"' + place.place_url + '\" target=\"_blank\" title=\"' + place.place_name + '\">' + place.place_name + '</a>';\n\n    if (place.road_address_name) {\n      content += '    <span title=\"' + place.road_address_name + '\">' + place.road_address_name + '</span>' + '  <span class=\"jibun\" title=\"' + place.address_name + '\">(ì§€ë²ˆ : ' + place.address_name + ')</span>';\n    } else {\n      content += '    <span title=\"' + place.address_name + '\">' + place.address_name + '</span>';\n    }\n\n    content += '    <span class=\"tel\">' + place.phone + '</span>' + '</div>' + '<div class=\"after\"></div>';\n    contentNode.innerHTML = content;\n    placeOverlay.setPosition(new kakao.maps.LatLng(place.y, place.x));\n    placeOverlay.setMap(map);\n  } // ê° ì¹´í…Œê³ ë¦¬ì— í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤\n\n\n  function addCategoryClickEvent() {\n    console.log('ì¹´í…Œê³ ë¦¬ í´ë¦­ ì´ë²¤íŠ¸ ë“±ë¡ ');\n    var category = document.getElementById('category'),\n        children = category.children;\n    console.log('ì¹´í…Œê³ ë¦¬:', category);\n\n    for (var i = 0; i < children.length; i++) {\n      children[i].onclick = onClickCategory;\n      console.log('onClickCategory:', onClickCategory);\n    }\n  } //ğŸ‘¨ ì—¬ê¸°ì„œ ë¬¸ì œë°œìƒ \n  //ğŸ‘¨  searchPlaces í˜¸ì¶œì´ ì•ˆë¨\n  // ì¹´í…Œê³ ë¦¬ë¥¼ í´ë¦­í–ˆì„ ë•Œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤\n\n\n  function onClickCategory() {\n    console.log('ğŸš©ì¹´í…Œê³ ë¦¬ í´ë¦­-onClickCategory');\n    console.log('this:', this);\n    var id = this.id,\n        className = this.className;\n    placeOverlay.setMap(null);\n\n    if (className === 'on') {\n      currCategory = '';\n      changeCategoryClass();\n      removeMarker();\n    } else {\n      console.log('ğŸš©ì¹´í…Œê³ ë¦¬ í´ë¦­-íŠ¸ë¦¬ê±°');\n      currCategory = id;\n      console.log('currCategory:', currCategory);\n      changeCategoryClass(this);\n      searchPlaces();\n    }\n  } // í´ë¦­ëœ ì¹´í…Œê³ ë¦¬ì—ë§Œ í´ë¦­ëœ ìŠ¤íƒ€ì¼ì„ ì ìš©í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤\n\n\n  function changeCategoryClass(el) {\n    console.log('ğŸ‘´changeCategoryClass');\n    var category = document.getElementById('category'),\n        children = category.children,\n        i;\n\n    for (i = 0; i < children.length; i++) {\n      children[i].className = '';\n    }\n\n    if (el) {\n      el.className = 'on';\n    }\n  }\n}","map":{"version":3,"names":["KAKO_DOCUMENT_ID","NET_LOCATION","kakao","window","kakaoMapApi","currCategory","placeOverlay","maps","CustomOverlay","zIndex","contentNode","document","createElement","markers","mapContainer","getElementById","console","log","mapOption","center","LatLng","let","lon","level","map","Map","ps","services","Places","event","addListener","searchPlaces","className","addEventHandle","preventMap","setContent","addCategoryClickEvent","target","type","callback","addEventListener","attachEvent","setMap","removeMarker","categorySearch","placesSearchCB","useMapBounds","data","status","pagination","Status","OK","displayPlaces","ZERO_RESULT","ERROR","places","addMarker","order","getAttribute","i","length","marker","y","x","place","displayPlaceInfo","position","imageSrc","imageSize","Size","imgOptions","spriteSize","spriteOrigin","Point","offset","markerImage","MarkerImage","Marker","image","push","content","place_url","place_name","road_address_name","address_name","phone","innerHTML","setPosition","category","children","onclick","onClickCategory","id","changeCategoryClass","el"],"sources":["/Users/seob717/ts-study/netand/NETRestaurant/netrestaurantClient/src/util/kakaoMapApi.js"],"sourcesContent":["// import { CurrentLocation, KAKO_DOCUMENT_ID, NET_LOCATION } from \"./location\";\n\nimport { KAKO_DOCUMENT_ID, NET_LOCATION } from \"./location\";\n\n\nconst { kakao } = window;\n\n// https://apis.map.kakao.com/web/sample/keywordBasic/\nexport default function kakaoMapApi() {\nlet currCategory='';\n\n// ë§ˆì»¤ë¥¼ í´ë¦­í•˜ë©´ ì¥ì†Œëª…ì„ í‘œì¶œí•  ì¸í¬ìœˆë„ìš° ì…ë‹ˆë‹¤\n    const placeOverlay  = new kakao.maps.CustomOverlay({zIndex:1}), \n    contentNode = document.createElement('div'), // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ì˜ ì»¨í…ì¸  ì—˜ë¦¬ë¨¼íŠ¸ ì…ë‹ˆë‹¤ \n    markers = []; // ë§ˆì»¤ë¥¼ ë‹´ì„ ë°°ì—´ì…ë‹ˆë‹¤\n    // currCategory = ''; \n    // í˜„ì¬ ì„ íƒëœ ì¹´í…Œê³ ë¦¬ë¥¼ ê°€ì§€ê³  ìˆì„ ë³€ìˆ˜ì…ë‹ˆë‹¤;\n\n\n\n    const mapContainer  = document.getElementById(KAKO_DOCUMENT_ID);\n    console.log('mapContainer',mapContainer )\n    const mapOption  = {\n        center: new kakao.maps.LatLng(NET_LOCATION.let, NET_LOCATION.lon),\n        level: 4\n    };\n\n    const map = new kakao.maps.Map(mapContainer , mapOption );\n    console.log('kakao',kakao )\n\n    // ì¥ì†Œ ê²€ìƒ‰ ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤\n    const ps = new kakao.maps.services.Places(map); \n    console.log('ps',ps)\n\n\n    // ì§€ë„ì— idle ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤\n    //searchPlaces : ì½œë°±í•¨ìˆ˜ \n    kakao.maps.event.addListener(map, 'idle', searchPlaces);\n\n\nconsole.log('contentNode:',contentNode)\n// ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ì˜ ì»¨í…ì¸  ë…¸ë“œì— css classë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤ \ncontentNode.className = 'placeinfo_wrap';\n\n// ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ì˜ ì»¨í…ì¸  ë…¸ë“œì— mousedown, touchstart ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ë•Œ\n// ì§€ë„ ê°ì²´ì— ì´ë²¤íŠ¸ê°€ ì „ë‹¬ë˜ì§€ ì•Šë„ë¡ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¡œ kakao.maps.event.preventMap ë©”ì†Œë“œë¥¼ ë“±ë¡í•©ë‹ˆë‹¤ \naddEventHandle(contentNode, 'mousedown', kakao.maps.event.preventMap);\naddEventHandle(contentNode, 'touchstart', kakao.maps.event.preventMap);\n\n// ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ ì»¨í…ì¸ ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤\nplaceOverlay.setContent(contentNode);  \n\n// ê° ì¹´í…Œê³ ë¦¬ì— í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤\naddCategoryClickEvent();\n\n// ì—˜ë¦¬ë¨¼íŠ¸ì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤\nfunction addEventHandle(target, type, callback) {\n    if (target.addEventListener) {\n        target.addEventListener(type, callback);\n    } else {\n        target.attachEvent('on' + type, callback);\n    }\n}\n\n// ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ì„ ìš”ì²­í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤\nfunction searchPlaces() {\n    console.log('ğŸš©searchPlaces ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ì„ ìš”ì²­í•˜ëŠ” í•¨ìˆ˜:' )\n    console.log('currCategory:',currCategory);\n    if (!currCategory) {\n        console.log('ì„¤ë§ˆ ì—¬ê¸°ì…ë‹ˆê¹Œ ?')\n        return;\n    }\n    // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¥¼ ìˆ¨ê¹ë‹ˆë‹¤ \n    placeOverlay.setMap(null);\n    console.log('  // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¥¼ ìˆ¨ê¹ë‹ˆë‹¤-placeOverlay :',placeOverlay)\n\n\n    // ì§€ë„ì— í‘œì‹œë˜ê³  ìˆëŠ” ë§ˆì»¤ë¥¼ ì œê±°í•©ë‹ˆë‹¤\n    removeMarker();\n    contentNode.log('ê²€ìƒ‰ëœê°’:',currCategory)\n    ps.categorySearch(currCategory, placesSearchCB, {useMapBounds:true}); \n}\n\n\n// ì¥ì†Œê²€ìƒ‰ì´ ì™„ë£Œëì„ ë•Œ í˜¸ì¶œë˜ëŠ” ì½œë°±í•¨ìˆ˜ ì…ë‹ˆë‹¤\nfunction placesSearchCB(data, status, pagination) {\n    console.log('ğŸ‘¦ì¥ì†Œ ê²€ìƒ‰ ì™„ë£Œ')\n    if (status === kakao.maps.services.Status.OK) {\n        // ì •ìƒì ìœ¼ë¡œ ê²€ìƒ‰ì´ ì™„ë£Œëìœ¼ë©´ ì§€ë„ì— ë§ˆì»¤ë¥¼ í‘œì¶œí•©ë‹ˆë‹¤\n        displayPlaces(data);\n    } else if (status === kakao.maps.services.Status.ZERO_RESULT) {\n        // ê²€ìƒ‰ê²°ê³¼ê°€ ì—†ëŠ”ê²½ìš° í•´ì•¼í•  ì²˜ë¦¬ê°€ ìˆë‹¤ë©´ ì´ê³³ì— ì‘ì„±í•´ ì£¼ì„¸ìš”\n\n    } else if (status === kakao.maps.services.Status.ERROR) {\n        // ì—ëŸ¬ë¡œ ì¸í•´ ê²€ìƒ‰ê²°ê³¼ê°€ ë‚˜ì˜¤ì§€ ì•Šì€ ê²½ìš° í•´ì•¼í•  ì²˜ë¦¬ê°€ ìˆë‹¤ë©´ ì´ê³³ì— ì‘ì„±í•´ ì£¼ì„¸ìš”\n        \n    }\n}\n\n\n// ì§€ë„ì— ë§ˆì»¤ë¥¼ í‘œì¶œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤\nfunction displayPlaces(places) {\n    console.log('ğŸš©addMarker:',addMarker)\n    // ëª‡ë²ˆì§¸ ì¹´í…Œê³ ë¦¬ê°€ ì„ íƒë˜ì–´ ìˆëŠ”ì§€ ì–»ì–´ì˜µë‹ˆë‹¤\n    // ì´ ìˆœì„œëŠ” ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ì—ì„œì˜ ìœ„ì¹˜ë¥¼ ê³„ì‚°í•˜ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤\n    var order = document.getElementById(currCategory).getAttribute('data-order');\n\n    \n\n    for ( var i=0; i<places.length; i++ ) {\n\n            // ë§ˆì»¤ë¥¼ ìƒì„±í•˜ê³  ì§€ë„ì— í‘œì‹œí•©ë‹ˆë‹¤\n            var marker = addMarker(new kakao.maps.LatLng(places[i].y, places[i].x), order);\n\n            // ë§ˆì»¤ì™€ ê²€ìƒ‰ê²°ê³¼ í•­ëª©ì„ í´ë¦­ í–ˆì„ ë•Œ\n            // ì¥ì†Œì •ë³´ë¥¼ í‘œì¶œí•˜ë„ë¡ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤\n            (function(marker, place) {\n                console.log('ë§ˆì»¤í´ë¦­')\n                kakao.maps.event.addListener(marker, 'click', function() {\n                    displayPlaceInfo(place);\n                });\n            })(marker, places[i]);\n    }\n}\n\n// ë§ˆì»¤ë¥¼ ìƒì„±í•˜ê³  ì§€ë„ ìœ„ì— ë§ˆì»¤ë¥¼ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤\nfunction addMarker(position, order) {\n    console.log('ğŸš©addMarker:',addMarker)\n    var imageSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/places_category.png', // ë§ˆì»¤ ì´ë¯¸ì§€ url, ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ë¥¼ ì”ë‹ˆë‹¤\n        imageSize = new kakao.maps.Size(27, 28),  // ë§ˆì»¤ ì´ë¯¸ì§€ì˜ í¬ê¸°\n        imgOptions =  {\n            spriteSize : new kakao.maps.Size(72, 208), // ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ì˜ í¬ê¸°\n            spriteOrigin : new kakao.maps.Point(46, (order*36)), // ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ ì¤‘ ì‚¬ìš©í•  ì˜ì—­ì˜ ì¢Œìƒë‹¨ ì¢Œí‘œ\n            offset: new kakao.maps.Point(11, 28) // ë§ˆì»¤ ì¢Œí‘œì— ì¼ì¹˜ì‹œí‚¬ ì´ë¯¸ì§€ ë‚´ì—ì„œì˜ ì¢Œí‘œ\n        },\n        markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imgOptions),\n            marker = new kakao.maps.Marker({\n            position: position, // ë§ˆì»¤ì˜ ìœ„ì¹˜\n            image: markerImage \n        });\n\n    marker.setMap(map); // ì§€ë„ ìœ„ì— ë§ˆì»¤ë¥¼ í‘œì¶œí•©ë‹ˆë‹¤\n    markers.push(marker);  // ë°°ì—´ì— ìƒì„±ëœ ë§ˆì»¤ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤\n\n    console.log('ğŸ‘´markers:',markers)\n    return marker;\n}\n\n// ì§€ë„ ìœ„ì— í‘œì‹œë˜ê³  ìˆëŠ” ë§ˆì»¤ë¥¼ ëª¨ë‘ ì œê±°í•©ë‹ˆë‹¤\nfunction removeMarker() {\n    for ( var i = 0; i < markers.length; i++ ) {\n        markers[i].setMap(null);\n    }   \n    markers = [];\n}\n\n// í´ë¦­í•œ ë§ˆì»¤ì— ëŒ€í•œ ì¥ì†Œ ìƒì„¸ì •ë³´ë¥¼ ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¡œ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤\nfunction displayPlaceInfo (place) {\n    console.log('í´ë¦­í•œ ì¥ì†Œì •ë³´ í˜¸ì¶œ')\n    console.log('place:',place)\n    var content = '<div class=\"placeinfo\">' +\n                    '   <a class=\"title\" href=\"' + place.place_url + '\" target=\"_blank\" title=\"' + place.place_name + '\">' + place.place_name + '</a>';   \n\n    if (place.road_address_name) {\n        content += '    <span title=\"' + place.road_address_name + '\">' + place.road_address_name + '</span>' +\n                    '  <span class=\"jibun\" title=\"' + place.address_name + '\">(ì§€ë²ˆ : ' + place.address_name + ')</span>';\n    }  else {\n        content += '    <span title=\"' + place.address_name + '\">' + place.address_name + '</span>';\n    }                \n   \n    content += '    <span class=\"tel\">' + place.phone + '</span>' + \n                '</div>' + \n                '<div class=\"after\"></div>';\n\n    contentNode.innerHTML = content;\n    placeOverlay.setPosition(new kakao.maps.LatLng(place.y, place.x));\n    placeOverlay.setMap(map);  \n}\n\n\n// ê° ì¹´í…Œê³ ë¦¬ì— í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤\nfunction addCategoryClickEvent() {\n    console.log('ì¹´í…Œê³ ë¦¬ í´ë¦­ ì´ë²¤íŠ¸ ë“±ë¡ ')\n    var category = document.getElementById('category'),\n        children = category.children;\n        console.log('ì¹´í…Œê³ ë¦¬:',category)\n    for (var i=0; i<children.length; i++) {\n        children[i].onclick = onClickCategory;\n        console.log('onClickCategory:',onClickCategory)\n    }\n}\n\n//ğŸ‘¨ ì—¬ê¸°ì„œ ë¬¸ì œë°œìƒ \n//ğŸ‘¨  searchPlaces í˜¸ì¶œì´ ì•ˆë¨\n// ì¹´í…Œê³ ë¦¬ë¥¼ í´ë¦­í–ˆì„ ë•Œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤\nfunction onClickCategory() {\n    console.log('ğŸš©ì¹´í…Œê³ ë¦¬ í´ë¦­-onClickCategory')\n    console.log('this:',this);\n    var id = this.id,\n        className = this.className;\n    placeOverlay.setMap(null);\n\n    if (className === 'on') {\n        currCategory = '';\n        changeCategoryClass();\n        removeMarker();\n    } else {\n        console.log('ğŸš©ì¹´í…Œê³ ë¦¬ í´ë¦­-íŠ¸ë¦¬ê±°')\n        currCategory = id;\n        console.log('currCategory:',currCategory)\n        changeCategoryClass(this);\n        searchPlaces();\n    }\n}\n\n// í´ë¦­ëœ ì¹´í…Œê³ ë¦¬ì—ë§Œ í´ë¦­ëœ ìŠ¤íƒ€ì¼ì„ ì ìš©í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤\nfunction changeCategoryClass(el) {\n    console.log('ğŸ‘´changeCategoryClass')\n    var category = document.getElementById('category'),\n        children = category.children,\n        i;\n\n    for ( i=0; i<children.length; i++ ) {\n        children[i].className = '';\n    }\n\n    if (el) {\n        el.className = 'on';\n    } \n} \n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}